/* パーティクル集合アニメーション - 洗練されたミニマルデザイン */

.particle-title {
  position: relative;
  display: inline-block;
  perspective: 1000px;
  font-weight: 700;
  letter-spacing: -0.02em;
}

/* 各文字 */
.particle-char {
  position: relative;
  display: inline-block;
  opacity: 0;
  transform: translateY(10px);
  transition: all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
  transform-origin: center;
}

.particle-char.formed {
  opacity: 1;
  transform: translateY(0);
  animation: subtleGlow 4s ease-in-out calc(var(--char-index) * 0.1s) infinite;
}

/* パーティクルコンテナ */
.particle-container {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 100%;
  pointer-events: none;
}

/* 個々のパーティクル */
.particle {
  position: absolute;
  width: 2px;
  height: 2px;
  background: #3b82f6;
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transform: translate3d(-50%, -50%, 0) translate3d(var(--start-x), var(--start-y), 0);
  opacity: 0;
  will-change: transform, opacity;
  backface-visibility: hidden;
}

/* パーティクルが集結するアニメーション */
.particle.gathering {
  animation: particleGather 2.5s cubic-bezier(0.4, 0, 0.2, 1) var(--delay) forwards;
}

/* アニメーション定義 */
@keyframes particleGather {
  0% {
    transform: translate3d(-50%, -50%, 0) translate3d(var(--start-x), var(--start-y), 0);
    opacity: 0;
  }
  20% {
    opacity: 0.8;
  }
  50% {
    opacity: 0.6;
    transform: translate3d(-50%, -50%, 0) translate3d(calc(var(--start-x) * 0.3), calc(var(--start-y) * 0.3), 0);
  }
  100% {
    transform: translate3d(-50%, -50%, 0) translate3d(0px, 0px, 0);
    opacity: 0;
  }
}


@keyframes subtleGlow {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.9;
  }
}

/* 文字のグラデーション - 控えめで上品 */
.particle-title.animated .particle-char {
  background: linear-gradient(
    135deg,
    #1e3a8a 0%,
    #3b82f6 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}


/* 下部の繊細なアクセントライン */
.particle-title::after {
  content: '';
  position: absolute;
  bottom: -8px;
  left: 0;
  width: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, #3b82f6, transparent);
  animation: lineExpand 1.5s ease-out 2s forwards;
}

@keyframes lineExpand {
  0% {
    width: 0;
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    width: 100%;
    opacity: 0.7;
  }
}

/* レスポンシブ対応 */
@media (max-width: 768px) {
  .particle {
    width: 2px;
    height: 2px;
  }
  
  .particle-char.formed {
    animation: none;
  }
  
  .particle-title::after {
    display: none;
  }
}

@media (max-width: 480px) {
  /* モバイルではパーティクルを無効化 */
  .particle {
    display: none;
  }
  
  .particle-char {
    opacity: 0;
    animation: fadeIn 0.5s ease-out calc(var(--char-index) * 0.1s) forwards;
  }
}

@keyframes fadeIn {
  to {
    opacity: 1;
  }
}

/* アクセシビリティ */
@media (prefers-reduced-motion: reduce) {
  .particle-char {
    opacity: 1 !important;
    transform: none !important;
    animation: none !important;
  }
  
  .particle {
    display: none !important;
  }
  
  .particle-title::before {
    display: none;
  }
}